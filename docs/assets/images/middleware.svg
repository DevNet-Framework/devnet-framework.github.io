<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="634" height="130" viewBox="-0.5 -0.5 634 130" content="&lt;mxfile host=&quot;app.diagrams.net&quot; modified=&quot;2021-06-28T17:39:18.436Z&quot; agent=&quot;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.114 Safari/537.36 Edg/91.0.864.59&quot; etag=&quot;XfIP4MsLdal_cB8BaTmX&quot; version=&quot;14.8.1&quot; type=&quot;device&quot;&gt;&lt;diagram id=&quot;0ayn6cKSmiLzpMZOsGQS&quot; name=&quot;Page-1&quot;&gt;7Zrdb+I4EMD/GqS7h1b5pOERKOyq12oreLi9p5ObuIl3nThNTIH+9TdObBKTFGgpdPcUhEo8/p75eTJ23bPH8epLhtLojgWY9iwjWPXs655lea4Ff4VgXQrsgVcKwowEpcisBHPygqXQkNIFCXCuFeSMUU5SXeizJME+12Qoy9hSL/bIqN5rikLcEMx9RJvSv0nAIzkt66qSf8UkjFTPZn9Q5sRIFZYzySMUsGWtVXvSs8cZY7x8ildjTIXulF7KetNXcjcDy3DCD6lw/e1mPHPI6uGvm5VzO0f/fgvzC1sNjq/VjHEACpBJlvGIhSxBdFJJRxlbJAEWzRqQqsrcMpaC0AThD8z5WloTLTgDUcRjKnPxivDvted/RFOXrkxdr2TLRWKtEgnP1t/riVotkayqFSlVr6kmqTkxz21rAMWYxRjqQ4EMU8TJsw4CkjyFm3KbqveMQBeWIdG3TUmCJN+0vMtB/ePoLeZskflYNlK343a77tva5SgLMW+0Cw+12Vaigpo3ECR7e0Z0ITU1YwtOkhCEdyQIKF6C7huU5UsSU5QInB5ZwhVwwmJ+RGhwi9bQDEhyjvyfKjWKWEZeoDxSKEF2xiVoVl8rMRc1ZZsZzqHMvaLA3BLdoZVW8BblXI2GUYrSnDwU4xMVY1AoSUaMcxbLQjnP2E88ZpRlxfTsvu/hh0eRI+c5JZTW8q+HE286FpPX5f2xNxlNpVJq8mnx0daeqVRXTt50RG/Kx+wk/xlnHK92sq9y+4bGmieTy8oVmgrHqO4GldPbsVxm4K5REoJaK7SNvd0pUb03sLvWGaIcZwnieCSUlZ+C+o0qK+zB4fsRiGb4aYFz3iAeVM4bqCSsXAI1CqQIURImkPTBehjkI2E1Ai+moczgwtmO8hT5sNhu8aNQhlNJZlI/QsSg7iMtwIhgSeKkAIkjjh42qy4VDqJQoDuCL6h5LJyrC0MfQ9qs0vAVxTPgM4HZIFLghWHJLMW891K4043sR3OtG30fittw1EnUqHgzAlYDgd7Y6g3hvcEXWQI5CVj8jz87EE4LgoowPw8EuwECprlwazyCAFSEGisfp5ywpGPhtCxceYex4FgnYsFssjAMAiJsj2gXEf3+EZF9QETUb4lR/v8R0VXzdQh9iK9BWUj8zve9yfdtPMlREVEbiqd7EXpdRPRLkNAWEp2XhMHrziBm4uXX+YSzkNAWELWRcLKAyHYaNj7DAeOrL/pTH/qZjUO/gd7Eoad8ZuOUb6uhEx/r2W7LCu5TLkMszaL9pwVTGRd5YZMhFDCddAU/hTmMIm8piRO5CctiERKryvAUit/N8UnZGQy+7K/MPdZh1BipRYqWsxV0my2uJC5C9zano0egHxBkDrZsbzSjPrfNne8IMQ9dxH58lz7N/aE/fVnOnrwv9tVNdNEW2p2HhTwF94l/dxgalm/h42AYnANh2OG7joJB/WeuRsMkCVLpvroN7udvcI/Cze02uO3c283zXpI8AwO9zZn/NaY4hEF0Ye0bcNzhZH6JrW47DC3hkb7Vrd5dHQsnZeGcm912FvoNFrrz/0+C4Zz73fbxuQ0bf+51mQvj0jCcnnZnxhyYvd23ZorUPc4IaEWAVrPa1hb6oNjiyF21a+lBwkddpXHdwaXjGJuP1ezF8/SmP27b3YpP6yn69vlJEgzFzTbhByjKc+LruGgrTY5XWXJe+oHXYthSDUeZes+2RMmOJWL7eKT/znOWBlrbDZ3a4G0npZ3B9996e6/B7U82uN3cPncGP+QA9L0GN09mcEhW13fL4tUdaHvyHw==&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);"><defs><clipPath id="mx-clip-71-31-151-26-0"><rect x="71" y="31" width="151" height="26"/></clipPath><clipPath id="mx-clip-71-57-151-26-0"><rect x="71" y="57" width="151" height="26"/></clipPath><clipPath id="mx-clip-71-83-151-42-0"><rect x="71" y="83" width="151" height="42"/></clipPath><clipPath id="mx-clip-271-31-152-26-0"><rect x="271" y="31" width="152" height="26"/></clipPath><clipPath id="mx-clip-271-57-152-26-0"><rect x="271" y="57" width="152" height="26"/></clipPath><clipPath id="mx-clip-271-83-152-42-0"><rect x="271" y="83" width="152" height="42"/></clipPath><clipPath id="mx-clip-471-31-152-26-0"><rect x="471" y="31" width="152" height="26"/></clipPath><clipPath id="mx-clip-471-57-152-26-0"><rect x="471" y="57" width="152" height="26"/></clipPath><clipPath id="mx-clip-471-83-152-42-0"><rect x="471" y="83" width="152" height="42"/></clipPath><filter id="dropShadow"><feGaussianBlur in="SourceAlpha" stdDeviation="1.7" result="blur"/><feOffset in="blur" dx="3" dy="3" result="offsetBlur"/><feFlood flood-color="#3D4574" flood-opacity="0.4" result="offsetColor"/><feComposite in="offsetColor" in2="offsetBlur" operator="in" result="offsetBlur"/><feBlend in="SourceGraphic" in2="offsetBlur"/></filter></defs><g filter="url(#dropShadow)"><path d="M 226 49 L 259.63 49" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 264.88 49 L 257.88 52.5 L 259.63 49 L 257.88 45.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 226 26 L 226 11.7 Q 226 0 214.3 0 L 78.7 0 Q 67 0 67 11.7 L 67 26" fill="#6c8ebf" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><path d="M 67 26 L 67 108.3 Q 67 120 78.7 120 L 214.3 120 Q 226 120 226 108.3 L 226 26" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><path d="M 67 26 L 226 26" fill="none" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><g fill="#FFFFFF" font-family="Helvetica" text-anchor="middle" font-size="14px"><text x="146" y="18.5">Routing Middleware</text></g><rect x="67" y="26" width="159" height="26" fill="none" stroke="none" pointer-events="all"/><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-71-31-151-26-0)" text-anchor="middle" font-size="12px"><text x="146" y="43.5">match Request</text></g><rect x="67" y="52" width="159" height="26" fill="none" stroke="none" pointer-events="all"/><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-71-57-151-26-0)" text-anchor="middle" font-size="12px"><text x="146" y="69.5"> return next()</text></g><rect x="67" y="78" width="159" height="42" fill="none" stroke="none" pointer-events="all"/><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-71-83-151-42-0)" text-anchor="middle" font-size="12px"><text x="146" y="95.5">else throw exception</text></g><path d="M 427 26 L 427 11.7 Q 427 0 415.3 0 L 278.7 0 Q 267 0 267 11.7 L 267 26" fill="#6c8ebf" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><path d="M 267 26 L 267 108.3 Q 267 120 278.7 120 L 415.3 120 Q 427 120 427 108.3 L 427 26" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><path d="M 267 26 L 427 26" fill="none" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><g fill="#FFFFFF" font-family="Helvetica" text-anchor="middle" font-size="14px"><text x="346.5" y="18.5">Additional Middleware</text></g><rect x="267" y="26" width="160" height="26" fill="none" stroke="none" pointer-events="all"/><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-271-31-152-26-0)" text-anchor="middle" font-size="12px"><text x="346.5" y="43.5">// logic</text></g><rect x="267" y="52" width="160" height="26" fill="none" stroke="none" pointer-events="all"/><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-271-57-152-26-0)" text-anchor="middle" font-size="12px"><text x="346.5" y="69.5"> return next()</text></g><rect x="267" y="78" width="160" height="42" fill="none" stroke="none" pointer-events="all"/><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-271-83-152-42-0)" text-anchor="middle" font-size="12px"><text x="346.5" y="95.5">// more logic</text></g><path d="M 26 49 L 59.63 49" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 64.88 49 L 57.88 52.5 L 59.63 49 L 57.88 45.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="6" y="20" width="50" height="20" rx="3" ry="3" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 30px; margin-left: 31px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 24px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-weight: bold; white-space: nowrap; "><font style="font-size: 14px ; font-weight: normal">Request</font></div></div></div></foreignObject><text x="31" y="37" fill="#000000" font-family="Helvetica" font-size="24px" text-anchor="middle" font-weight="bold">Requ...</text></switch></g><rect x="6" y="60" width="50" height="21" rx="3.15" ry="3.15" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 71px; margin-left: 31px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 24px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-weight: bold; white-space: nowrap; "><font style="font-size: 14px ; font-weight: normal">Response</font></div></div></div></foreignObject><text x="31" y="78" fill="#000000" font-family="Helvetica" font-size="24px" text-anchor="middle" font-weight="bold">Resp...</text></switch></g><path d="M 627 26 L 627 11.7 Q 627 0 615.3 0 L 478.7 0 Q 467 0 467 11.7 L 467 26" fill="#6c8ebf" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><path d="M 467 26 L 467 108.3 Q 467 120 478.7 120 L 615.3 120 Q 627 120 627 108.3 L 627 26" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><path d="M 467 26 L 627 26" fill="none" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><g fill="#FFFFFF" font-family="Helvetica" text-anchor="middle" font-size="14px"><text x="546.5" y="18.5">Endpoint Middleware</text></g><rect x="467" y="26" width="160" height="26" fill="none" stroke="none" pointer-events="all"/><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-471-31-152-26-0)" text-anchor="middle" font-size="12px"><text x="546.5" y="43.5">invoke RequestDelegate</text></g><rect x="467" y="52" width="160" height="26" fill="none" stroke="none" pointer-events="all"/><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-471-57-152-26-0)" text-anchor="middle" font-size="12px"><text x="546.5" y="69.5"> return Response</text></g><rect x="467" y="78" width="160" height="42" fill="none" stroke="none" pointer-events="all"/><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-471-83-152-42-0)" text-anchor="middle" font-size="12px"><text x="546.5" y="95.5">else throw exception</text></g><path d="M 427 49 L 460.07 48.99" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 465.32 48.99 L 458.32 52.49 L 460.07 48.99 L 458.32 45.49 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 466 89 L 433.37 89" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 428.12 89 L 435.12 85.5 L 433.37 89 L 435.12 92.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 266 89 L 233.37 89" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 228.12 89 L 235.12 85.5 L 233.37 89 L 235.12 92.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 66 89 L 33.37 89" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 28.12 89 L 35.12 85.5 L 33.37 89 L 35.12 92.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Viewer does not support full SVG 1.1</text></a></switch></svg>